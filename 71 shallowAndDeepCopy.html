<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Shallow and deep copy</title>
  </head>
  <body>
    <pre>
    ->Shallow Copy:
       A shallow copy occurs when you copy the reference of an object to a new variable. 
       In this process, only the top-level properties are copied, while nested objects or arrays still 
       reference the original memory location. 
       This means that if you change the nested properties in one object, those changes will reflect in the other because
       they share the same memory reference.

      Example:When you assign one object to another using the assignment operator (=), a shallow copy is created:

    ->Deep Copy:
       A deep copy, on the other hand, creates a completely independent copy of the object, 
       including all nested objects or arrays. 
       This ensures that changes made to one object do not affect the other.
       Each object is stored in a separate memory location, making them entirely independent.

        //Note: To create a deep copy of an object in JavaScript we use JSON.parse() and JSON.stringify() methods.
    </pre>
  </body>
  <script>
    //Shallow Copy Examples:
    //Example 1:
    let employee = {
      eid: "E102",
      ename: "Jack",
      eaddress: "New York",
      salary: 50000,
    };

    console.log("Employee=> ", employee);
    let newEmployee = employee; // Shallow copy
    console.log("New Employee=> ", newEmployee);

    console.log("---------After modification----------");
    newEmployee.ename = "Beck";  // Name of the employee as well as newEmployee is changed.
    console.log("Employee=> ", employee);
    console.log("New Employee=> ", newEmployee);
   

    //Example 2:shallow copy using spread operator
    const original = {
      name: "Muazim",
      hobbies: ["Gym", "Coding"],
    };

    // shallow copy using Object.assign or spread operator
    const shallowCopy = { ...original };

    // modify the nested array in the shallow copy
    shallowCopy.hobbies.push("Cricket");

    // both objects are affected
    console.log("orginal:",original.hobbies); // output: ["Gym", "Coding", "Cricket"]
    console.log("shallowCopy:",shallowCopy.hobbies); // output: ["Gym", "Coding", "CrshallowCopy

    //Deep Copy Example:
    const intro = {
      name: "Muazim",
      address: ["Sopore", "Kashmir"],
    };
    // deep copy using JSON methods
    const deepCopy = JSON.parse(JSON.stringify(intro));
    // modify the nested array in the deep copy
    deepCopy.address.push("193201");

    console.log("intro",intro.address); // output: ['Sopore', 'Kashmir']
    console.log("deepCopy",deepCopy.address); // output: ['Sopore', 'Kashmir', '193201']

    /*
      Explanation: Here the new object is created using the JSON.parse() and JSON.stringify() methods of JavaScript.
       JSON.stringify() takes a JavaScript object as an argument and then transforms it into a JSON string. 
       This JSON string is passed to the JSON.parse() method which then transforms it into a JavaScript object.

      //learn more here: https://www.geeksforgeeks.org/what-is-shallow-copy-and-deep-copy-in-javascript/
    */
  </script>
</html>
